import{useVirtualizer as re}from"@tanstack/vue-virtual";import{cloneVNode as de,computed as m,defineComponent as B,Fragment as se,h as z,inject as ee,nextTick as H,onMounted as X,onUnmounted as fe,provide as te,reactive as ve,ref as A,toRaw as j,watch as q,watchEffect as Y}from"vue";import{useControllable as pe}from'../../hooks/use-controllable.js';import{useId as J}from'../../hooks/use-id.js';import{useOutsideClick as be}from'../../hooks/use-outside-click.js';import{useResolveButtonType as ce}from'../../hooks/use-resolve-button-type.js';import{useTrackedPointer as me}from'../../hooks/use-tracked-pointer.js';import{useTreeWalker as xe}from'../../hooks/use-tree-walker.js';import{Features as ge,Hidden as Se}from'../../internal/hidden.js';import{State as G,useOpenClosed as Oe,useOpenClosedProvider as Ce}from'../../internal/open-closed.js';import{Keys as M}from'../../keyboard.js';import{history as oe}from'../../utils/active-element-history.js';import{calculateActiveIndex as le,Focus as E}from'../../utils/calculate-active-index.js';import{disposables as ae}from'../../utils/disposables.js';import{dom as x}from'../../utils/dom.js';import{sortByDomNode as Re}from'../../utils/focus-management.js';import{objectToFormEntries as ye}from'../../utils/form.js';import{match as $}from'../../utils/match.js';import{getOwnerDocument as Te}from'../../utils/owner.js';import{isMobile as Ie}from'../../utils/platform.js';import{compact as he,Features as Q,omit as Z,render as _}from'../../utils/render.js';function Pe(a,I){return a===I}var we=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(we||{}),Ee=(r=>(r[r.Single=0]="Single",r[r.Multi=1]="Multi",r))(Ee||{}),De=(y=>(y[y.Pointer=0]="Pointer",y[y.Focus=1]="Focus",y[y.Other=2]="Other",y))(De||{});let ne=Symbol("ComboboxContext");function N(a){let I=ee(ne,null);if(I===null){let r=new Error(`<${a} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,N),r}return I}let ie=Symbol("VirtualContext"),Ve=B({name:"VirtualProvider",setup(a,{slots:I}){let r=N("VirtualProvider"),y=m(()=>{let f=x(r.optionsRef);if(!f)return{start:0,end:0};let b=window.getComputedStyle(f);return{start:parseFloat(b.paddingBlockStart||b.paddingTop),end:parseFloat(b.paddingBlockEnd||b.paddingBottom)}}),o=re(m(()=>({scrollPaddingStart:y.value.start,scrollPaddingEnd:y.value.end,count:r.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return x(r.optionsRef)},overscan:12}))),u=m(()=>{var f;return(f=r.virtual.value)==null?void 0:f.options}),e=A(0);return q([u],()=>{e.value+=1}),te(ie,r.virtual.value?o:null),()=>[z("div",{style:{position:"relative",width:"100%",height:`${o.value.getTotalSize()}px`},ref:f=>{if(f){if(typeof process!="undefined"&&process.env.JEST_WORKER_ID!==void 0||r.activationTrigger.value===0)return;r.activeOptionIndex.value!==null&&r.virtual.value.options.length>r.activeOptionIndex.value&&o.value.scrollToIndex(r.activeOptionIndex.value)}}},o.value.getVirtualItems().map(f=>de(I.default({option:r.virtual.value.options[f.index],open:r.comboboxState.value===0})[0],{key:`${e.value}-${f.index}`,"data-index":f.index,"aria-setsize":r.virtual.value.options.length,"aria-posinset":f.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${f.start}px)`,overflowAnchor:"none"}})))]}}),Ze=B({name:"Combobox",emits:{"update:modelValue":a=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(a,{slots:I,attrs:r,emit:y}){let o=A(1),u=A(null),e=A(null),f=A(null),b=A(null),S=A({static:!1,hold:!1}),p=A([]),d=A(null),D=A(2),P=A(!1);function V(l=i=>i){let i=d.value!==null?p.value[d.value]:null,s=l(p.value.slice()),v=s.length>0&&s[0].dataRef.order.value!==null?s.sort((R,F)=>R.dataRef.order.value-F.dataRef.order.value):Re(s,R=>x(R.dataRef.domRef)),C=i?v.indexOf(i):null;return C===-1&&(C=null),{options:v,activeOptionIndex:C}}let L=m(()=>a.multiple?1:0),K=m(()=>a.nullable),[c,g]=pe(m(()=>a.modelValue),l=>y("update:modelValue",l),m(()=>a.defaultValue)),k=m(()=>c.value===void 0?$(L.value,{[1]:[],[0]:void 0}):c.value),n=null,T=null;function O(l){return $(L.value,{[0](){return g==null?void 0:g(l)},[1]:()=>{let i=j(t.value.value).slice(),s=j(l),v=i.findIndex(C=>t.compare(s,j(C)));return v===-1?i.push(s):i.splice(v,1),g==null?void 0:g(i)}})}let w=m(()=>{});q([w],([l],[i])=>{if(t.virtual.value&&l&&i&&d.value!==null){let s=l.indexOf(i[d.value]);s!==-1?d.value=s:d.value=null}});let t={comboboxState:o,value:k,mode:L,compare(l,i){if(typeof a.by=="string"){let s=a.by;return(l==null?void 0:l[s])===(i==null?void 0:i[s])}return a.by===null?Pe(l,i):a.by(l,i)},calculateIndex(l){return t.virtual.value?a.by===null?t.virtual.value.options.indexOf(l):t.virtual.value.options.findIndex(i=>t.compare(i,l)):p.value.findIndex(i=>t.compare(i.dataRef.value,l))},defaultValue:m(()=>a.defaultValue),nullable:K,immediate:m(()=>!1),virtual:m(()=>null),inputRef:e,labelRef:u,buttonRef:f,optionsRef:b,disabled:m(()=>a.disabled),options:p,change(l){g(l)},activeOptionIndex:m(()=>{if(P.value&&d.value===null&&(t.virtual.value?t.virtual.value.options.length>0:p.value.length>0)){if(t.virtual.value){let i=t.virtual.value.options.findIndex(s=>{var v;return!((v=t.virtual.value)!=null&&v.disabled(s))});if(i!==-1)return i}let l=p.value.findIndex(i=>!i.dataRef.disabled);if(l!==-1)return l}return d.value}),activationTrigger:D,optionsPropsRef:S,closeCombobox(){P.value=!1,!a.disabled&&o.value!==1&&(o.value=1,d.value=null)},openCombobox(){if(P.value=!0,!a.disabled&&o.value!==0){if(t.value.value){let l=t.calculateIndex(t.value.value);l!==-1&&(d.value=l)}o.value=0}},setActivationTrigger(l){D.value=l},goToOption(l,i,s){P.value=!1,n!==null&&cancelAnimationFrame(n),n=requestAnimationFrame(()=>{if(a.disabled||b.value&&!S.value.static&&o.value===1)return;if(t.virtual.value){d.value=l===E.Specific?i:le({focus:l},{resolveItems:()=>t.virtual.value.options,resolveActiveIndex:()=>{var R,F;return(F=(R=t.activeOptionIndex.value)!=null?R:t.virtual.value.options.findIndex(W=>{var U;return!((U=t.virtual.value)!=null&&U.disabled(W))}))!=null?F:null},resolveDisabled:R=>t.virtual.value.disabled(R),resolveId(){throw new Error("Function not implemented.")}}),D.value=s!=null?s:2;return}let v=V();if(v.activeOptionIndex===null){let R=v.options.findIndex(F=>!F.dataRef.disabled);R!==-1&&(v.activeOptionIndex=R)}let C=l===E.Specific?i:le({focus:l},{resolveItems:()=>v.options,resolveActiveIndex:()=>v.activeOptionIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});d.value=C,D.value=s!=null?s:2,p.value=v.options})},selectOption(l){let i=p.value.find(v=>v.id===l);if(!i)return;let{dataRef:s}=i;O(s.value)},selectActiveOption(){if(t.activeOptionIndex.value!==null){if(t.virtual.value)O(t.virtual.value.options[t.activeOptionIndex.value]);else{let{dataRef:l}=p.value[t.activeOptionIndex.value];O(l.value)}t.goToOption(E.Specific,t.activeOptionIndex.value)}},registerOption(l,i){let s=ve({id:l,dataRef:i});if(t.virtual.value){p.value.push(s);return}T&&cancelAnimationFrame(T);let v=V(C=>(C.push(s),C));d.value===null&&t.isSelected(i.value.value)&&(v.activeOptionIndex=v.options.indexOf(s)),p.value=v.options,d.value=v.activeOptionIndex,D.value=2,v.options.some(C=>!x(C.dataRef.domRef))&&(T=requestAnimationFrame(()=>{let C=V();p.value=C.options,d.value=C.activeOptionIndex}))},unregisterOption(l,i){if(n!==null&&cancelAnimationFrame(n),i&&(P.value=!0),t.virtual.value){p.value=p.value.filter(v=>v.id!==l);return}let s=V(v=>{let C=v.findIndex(R=>R.id===l);return C!==-1&&v.splice(C,1),v});p.value=s.options,d.value=s.activeOptionIndex,D.value=2},isSelected(l){return $(L.value,{[0]:()=>t.compare(j(t.value.value),j(l)),[1]:()=>j(t.value.value).some(i=>t.compare(j(i),j(l)))})},isActive(l){return d.value===t.calculateIndex(l)}};be([e,f,b],()=>t.closeCombobox(),m(()=>o.value===0)),te(ne,t),Ce(m(()=>$(o.value,{[0]:G.Open,[1]:G.Closed})));let h=m(()=>{var l;return(l=x(e))==null?void 0:l.closest("form")});return X(()=>{q([h],()=>{if(!h.value||a.defaultValue===void 0)return;function l(){t.change(a.defaultValue)}return h.value.addEventListener("reset",l),()=>{var i;(i=h.value)==null||i.removeEventListener("reset",l)}},{immediate:!0})}),()=>{var R,F,W;let{name:l,disabled:i,form:s,...v}=a,C={open:o.value===0,disabled:i,activeIndex:t.activeOptionIndex.value,activeOption:t.activeOptionIndex.value===null?null:t.virtual.value?t.virtual.value.options[(R=t.activeOptionIndex.value)!=null?R:0]:(W=(F=t.options.value[t.activeOptionIndex.value])==null?void 0:F.dataRef.value)!=null?W:null,value:k.value};return z(se,[...l!=null&&k.value!=null?ye({[l]:k.value}).map(([U,ue])=>z(Se,he({features:ge.Hidden,key:U,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:i,name:U,value:ue}))):[],_({theirProps:{...r,...Z(v,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:C,slots:I,attrs:r,name:"Combobox"})])}}}),et=B({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(a,{attrs:I,slots:r}){var e;let y=(e=a.id)!=null?e:`headlessui-combobox-label-${J()}`,o=N("ComboboxLabel");function u(){var f;(f=x(o.inputRef))==null||f.focus({preventScroll:!0})}return()=>{let f={open:o.comboboxState.value===0,disabled:o.disabled.value},{...b}=a,S={id:y,ref:o.labelRef,onClick:u};return _({ourProps:S,theirProps:b,slot:f,attrs:I,slots:r,name:"ComboboxLabel"})}}}),tt=B({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(a,{attrs:I,slots:r,expose:y}){var S;let o=(S=a.id)!=null?S:`headlessui-combobox-button-${J()}`,u=N("ComboboxButton");y({el:u.buttonRef,$el:u.buttonRef});function e(p){u.disabled.value||(u.comboboxState.value===0?u.closeCombobox():(p.preventDefault(),u.openCombobox()),H(()=>{var d;return(d=x(u.inputRef))==null?void 0:d.focus({preventScroll:!0})}))}function f(p){switch(p.key){case M.ArrowDown:p.preventDefault(),p.stopPropagation(),u.comboboxState.value===1&&u.openCombobox(),H(()=>{var d;return(d=u.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case M.ArrowUp:p.preventDefault(),p.stopPropagation(),u.comboboxState.value===1&&(u.openCombobox(),H(()=>{u.value.value||u.goToOption(E.Last)})),H(()=>{var d;return(d=u.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case M.Escape:if(u.comboboxState.value!==0)return;p.preventDefault(),u.optionsRef.value&&!u.optionsPropsRef.value.static&&p.stopPropagation(),u.closeCombobox(),H(()=>{var d;return(d=u.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return}}let b=ce(m(()=>({as:a.as,type:I.type})),u.buttonRef);return()=>{var P,V;let p={open:u.comboboxState.value===0,disabled:u.disabled.value,value:u.value.value},{...d}=a,D={ref:u.buttonRef,id:o,type:b.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(P=x(u.optionsRef))==null?void 0:P.id,"aria-expanded":u.comboboxState.value===0,"aria-labelledby":u.labelRef.value?[(V=x(u.labelRef))==null?void 0:V.id,o].join(" "):void 0,disabled:u.disabled.value===!0?!0:void 0,onKeydown:f,onClick:e};return _({ourProps:D,theirProps:d,slot:p,attrs:I,slots:r,name:"ComboboxButton"})}}}),ot=B({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:a=>!0},setup(a,{emit:I,attrs:r,slots:y,expose:o}){var k;let u=(k=a.id)!=null?k:`headlessui-combobox-input-${J()}`,e=N("ComboboxInput"),f=m(()=>Te(x(e.inputRef))),b={value:!1};o({el:e.inputRef,$el:e.inputRef});function S(){e.change(null);let n=x(e.optionsRef);n&&(n.scrollTop=0),e.goToOption(E.Nothing)}let p=m(()=>{var T;let n=e.value.value;return x(e.inputRef)?typeof a.displayValue!="undefined"&&n!==void 0?(T=a.displayValue(n))!=null?T:"":typeof n=="string"?n:"":""});X(()=>{q([p,e.comboboxState,f],([n,T],[O,w])=>{if(b.value)return;let t=x(e.inputRef);t&&((w===0&&T===1||n!==O)&&(t.value=n),requestAnimationFrame(()=>{var i;if(b.value||!t||((i=f.value)==null?void 0:i.activeElement)!==t)return;let{selectionStart:h,selectionEnd:l}=t;Math.abs((l!=null?l:0)-(h!=null?h:0))===0&&h===0&&t.setSelectionRange(t.value.length,t.value.length)}))},{immediate:!0}),q([e.comboboxState],([n],[T])=>{if(n===0&&T===1){if(b.value)return;let O=x(e.inputRef);if(!O)return;let w=O.value,{selectionStart:t,selectionEnd:h,selectionDirection:l}=O;O.value="",O.value=w,l!==null?O.setSelectionRange(t,h,l):O.setSelectionRange(t,h)}})});let d=A(!1);function D(){d.value=!0}function P(){ae().nextFrame(()=>{d.value=!1})}function V(n){switch(b.value=!0,n.key){case M.Enter:if(b.value=!1,e.comboboxState.value!==0||d.value)return;if(n.preventDefault(),n.stopPropagation(),e.activeOptionIndex.value===null){e.closeCombobox();return}e.selectActiveOption(),e.mode.value===0&&e.closeCombobox();break;case M.ArrowDown:return b.value=!1,n.preventDefault(),n.stopPropagation(),$(e.comboboxState.value,{[0]:()=>e.goToOption(E.Next),[1]:()=>e.openCombobox()});case M.ArrowUp:return b.value=!1,n.preventDefault(),n.stopPropagation(),$(e.comboboxState.value,{[0]:()=>e.goToOption(E.Previous),[1]:()=>{e.openCombobox(),H(()=>{e.value.value||e.goToOption(E.Last)})}});case M.Home:if(n.shiftKey)break;return b.value=!1,n.preventDefault(),n.stopPropagation(),e.goToOption(E.First);case M.PageUp:return b.value=!1,n.preventDefault(),n.stopPropagation(),e.goToOption(E.First);case M.End:if(n.shiftKey)break;return b.value=!1,n.preventDefault(),n.stopPropagation(),e.goToOption(E.Last);case M.PageDown:return b.value=!1,n.preventDefault(),n.stopPropagation(),e.goToOption(E.Last);case M.Escape:if(b.value=!1,e.comboboxState.value!==0)return;n.preventDefault(),e.optionsRef.value&&!e.optionsPropsRef.value.static&&n.stopPropagation(),e.nullable.value&&e.mode.value===0&&e.value.value===null&&S(),e.closeCombobox();break;case M.Tab:if(b.value=!1,e.comboboxState.value!==0)return;e.mode.value===0&&e.activationTrigger.value!==1&&e.selectActiveOption(),e.closeCombobox();break}}function L(n){I("change",n),e.nullable.value&&e.mode.value===0&&n.target.value===""&&S(),e.openCombobox()}function K(n){var O,w,t;let T=(O=n.relatedTarget)!=null?O:oe.find(h=>h!==n.currentTarget);if(b.value=!1,!((w=x(e.optionsRef))!=null&&w.contains(T))&&!((t=x(e.buttonRef))!=null&&t.contains(T))&&e.comboboxState.value===0)return n.preventDefault(),e.mode.value===0&&(e.nullable.value&&e.value.value===null?S():e.activationTrigger.value!==1&&e.selectActiveOption()),e.closeCombobox()}function c(n){var O,w,t;let T=(O=n.relatedTarget)!=null?O:oe.find(h=>h!==n.currentTarget);(w=x(e.buttonRef))!=null&&w.contains(T)||(t=x(e.optionsRef))!=null&&t.contains(T)||e.disabled.value||e.immediate.value&&e.comboboxState.value!==0&&(e.openCombobox(),ae().nextFrame(()=>{e.setActivationTrigger(1)}))}let g=m(()=>{var n,T,O,w;return(w=(O=(T=a.defaultValue)!=null?T:e.defaultValue.value!==void 0?(n=a.displayValue)==null?void 0:n.call(a,e.defaultValue.value):null)!=null?O:e.defaultValue.value)!=null?w:""});return()=>{var h,l,i,s,v,C,R;let n={open:e.comboboxState.value===0},{displayValue:T,onChange:O,...w}=a,t={"aria-controls":(h=e.optionsRef.value)==null?void 0:h.id,"aria-expanded":e.comboboxState.value===0,"aria-activedescendant":e.activeOptionIndex.value===null?void 0:e.virtual.value?(l=e.options.value.find(F=>!e.virtual.value.disabled(F.dataRef.value)&&e.compare(F.dataRef.value,e.virtual.value.options[e.activeOptionIndex.value])))==null?void 0:l.id:(i=e.options.value[e.activeOptionIndex.value])==null?void 0:i.id,"aria-labelledby":(C=(s=x(e.labelRef))==null?void 0:s.id)!=null?C:(v=x(e.buttonRef))==null?void 0:v.id,"aria-autocomplete":"list",id:u,onCompositionstart:D,onCompositionend:P,onKeydown:V,onInput:L,onFocus:c,onBlur:K,role:"combobox",type:(R=r.type)!=null?R:"text",tabIndex:0,ref:e.inputRef,defaultValue:g.value,disabled:e.disabled.value===!0?!0:void 0};return _({ourProps:t,theirProps:w,slot:n,attrs:r,slots:y,features:Q.RenderStrategy|Q.Static,name:"ComboboxInput"})}}}),lt=B({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(a,{attrs:I,slots:r,expose:y}){let o=N("ComboboxOptions"),u=`headlessui-combobox-options-${J()}`;y({el:o.optionsRef,$el:o.optionsRef}),Y(()=>{o.optionsPropsRef.value.static=a.static}),Y(()=>{o.optionsPropsRef.value.hold=a.hold});let e=Oe(),f=m(()=>e!==null?(e.value&G.Open)===G.Open:o.comboboxState.value===0);xe({container:m(()=>x(o.optionsRef)),enabled:m(()=>o.comboboxState.value===0),accept(S){return S.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:S.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(S){S.setAttribute("role","none")}});function b(S){S.preventDefault()}return()=>{var D,P,V;let S={open:o.comboboxState.value===0},p={"aria-labelledby":(V=(D=x(o.labelRef))==null?void 0:D.id)!=null?V:(P=x(o.buttonRef))==null?void 0:P.id,id:u,ref:o.optionsRef,role:"listbox","aria-multiselectable":o.mode.value===1?!0:void 0,onMousedown:b},d=Z(a,["hold"]);return _({ourProps:p,theirProps:d,slot:S,attrs:I,slots:o.virtual.value&&o.comboboxState.value===0?{...r,default:()=>[z(Ve,{},r.default)]}:r,features:Q.RenderStrategy|Q.Static,visible:f.value,name:"ComboboxOptions"})}}}),at=B({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(a,{slots:I,attrs:r,expose:y}){let o=N("ComboboxOption"),u=`headlessui-combobox-option-${J()}`,e=A(null);y({el:e,$el:e});let f=m(()=>{var c;return o.virtual.value?o.activeOptionIndex.value===o.calculateIndex(a.value):o.activeOptionIndex.value===null?!1:((c=o.options.value[o.activeOptionIndex.value])==null?void 0:c.id)===u}),b=m(()=>o.isSelected(a.value)),S=ee(ie,null),p=m(()=>({disabled:a.disabled,value:a.value,domRef:e,order:m(()=>a.order)}));X(()=>o.registerOption(u,p)),fe(()=>o.unregisterOption(u,f.value)),Y(()=>{let c=x(e);c&&(S==null||S.value.measureElement(c))}),Y(()=>{o.comboboxState.value===0&&f.value&&(o.virtual.value||o.activationTrigger.value!==0&&H(()=>{var c,g;return(g=(c=x(e))==null?void 0:c.scrollIntoView)==null?void 0:g.call(c,{block:"nearest"})}))});function d(c){var g;if(a.disabled||(g=o.virtual.value)!=null&&g.disabled(a.value))return c.preventDefault();o.selectOption(u),Ie()||requestAnimationFrame(()=>{var k;return(k=x(o.inputRef))==null?void 0:k.focus({preventScroll:!0})}),o.mode.value===0&&requestAnimationFrame(()=>o.closeCombobox())}function D(){var g;if(a.disabled||(g=o.virtual.value)!=null&&g.disabled(a.value))return o.goToOption(E.Nothing);let c=o.calculateIndex(a.value);o.goToOption(E.Specific,c)}let P=me();function V(c){P.update(c)}function L(c){var k;if(!P.wasMoved(c)||a.disabled||(k=o.virtual.value)!=null&&k.disabled(a.value)||f.value)return;let g=o.calculateIndex(a.value);o.goToOption(E.Specific,g,0)}function K(c){var g;P.wasMoved(c)&&(a.disabled||(g=o.virtual.value)!=null&&g.disabled(a.value)||f.value&&(o.optionsPropsRef.value.hold||o.goToOption(E.Nothing)))}return()=>{let{disabled:c}=a,g={active:f.value,selected:b.value,disabled:c},k={id:u,ref:e,role:"option",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,"aria-selected":b.value,disabled:void 0,onClick:d,onFocus:D,onPointerenter:V,onMouseenter:V,onPointermove:L,onMousemove:L,onPointerleave:K,onMouseleave:K},n=Z(a,["order","value"]);return _({ourProps:k,theirProps:n,slot:g,attrs:r,slots:I,name:"ComboboxOption"})}}});export{Ze as Combobox,tt as ComboboxButton,ot as ComboboxInput,et as ComboboxLabel,at as ComboboxOption,lt as ComboboxOptions};
